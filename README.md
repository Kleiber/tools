# tpp

## Overview
`tpp` is a command line that aims to help competitive programmers optimizing code compilation, testing, and debugging time.

## Installing

### Linux
Using `tpp` command line is simple. First, clone the repository in your workspace

```bash
cd $HOME
git clone https://github.com/Kleiber/tpp.git
```

Next, include the following line in your `.bashrc` file (use the command `vim ~/.bashrc` to edit)

```bash
export PATH=$PATH:$HOME/tpp:
```

Finally, restart your terminal or run the command `source ~/.bashrc`

### Windows
For Windows, you need to have [Git for Windows](https://gitforwindows.org/) installed and and perform the same steps as in linux.

The minimum requirement to use `tpp` tool is the **C++11** standard library

## Commands

### ***init***

Initializes a new solution with the name passed as a parameter. Basically a new directory is created with four files: the cpp template `<solution-name>.cpp`, the input file `in.tpp`, the expected output file `expected.tpp` and the output file `out.tpp`

```
tpp init <solution-name>
```

### ***build***

Compiles the generated cpp template within the solution. Basically it is the translation of executing command `g ++ -o build <solution-name>.cpp`

```
tpp build
```

### ***run***

Compiles and executes the generated cpp template within the solution. If the `in.tpp` file has test cases, they will be used in the execution using standard input (`build < in.tpp`). Otherwise, it will be necessary to manually enter the test cases as usual

```
tpp run
```

### ***test***

Compiles, executes and test the generated cpp template within the solution. For the execution of this command it is necessary to have the `in.tpp` file with the input cases and the `expected.tpp` file with the expected outputs. From the cpp template an `out.tpp` file will be generated to be compared (`build < in.tpp > out.tpp`). Basically it is the translation of executing command `diff expected.tpp out.tpp`

```
tpp test
```

### ***prepare***
Prepares and test a new file to submit without the debug reference and its uses within the generated template

```
tpp prepare
```

## Template

Since in competitive programming time is crucial, `tpp` tool allows you to generate a code base cpp template to start programming there.

At the top of the template you will see the following `include` statement:

```c++
// remove this reference to debug.h before your submission
#include "debug.h"
```

That line allows you to make use of the debug method. **Do not forget that before submitting your code you must remove that line or use the command prepare**.

The second and no less important thing that we can see in the template are the following two code lines:

```c++
// do not remove this code if you use cin or cout
ios::sync_with_stdio(false);
cin.tie(0);
```

In competitive programming is often recommended to use `scanf/printf` instead of `cin/cout` for a fast input and output. However, you can still **use `cin/cout` and achieve the same performace as `scanf/printf` by including those two code lines in our `main()` function.**

## Debug

The main task of `tpp` command line is to include the `debug.h` script, who allows you to debug your variables showing their content in a simple and practical way. Its use is quite straightforward, you just have to call the `debug` method and send the variable, that you want to show, as a parameter.

### Example

```c++
/**
*  Generated by tpp tool
*  File: hello.cpp
*  Created: 27/09/2020 12:25:56
**/

#include <bits/stdc++.h>
using namespace std;

// remove this reference to debug.h before your submission
#include "debug.h"

int main() { 
    // do not remove this code if you use cin or cout
    ios::sync_with_stdio(false);
    cin.tie(0);

    string myVariable = "tpp tool";
    debug(myVariable);

    int myMatrix[8][8];
    memset(myMatrix, 0, sizeof(myMatrix));
    debug(myMatrix);
    debug(myMatrix[2][2]);

    vector<int> myVector;
    for(int i = 0; i < 8; i++) {
        myVector.push_back(i);
    }
    debug(myVector);
    debug(myVector[4]);

    vector<pair<int,int>> myPairs;
    for(int i = 0; i < 4; i++) {
        myPairs.push_back({i, 2*i});
    }
    debug(myPairs);
    debug(myPairs[2]);

    string greeting;
    getline(cin, greeting);
    cout << greeting <<endl;

    return 0;
}
```

If we have the above code snippet and the following input file and expected ouput file contents:

```
Input:
Hello World!

Expected Output:
Hello World!
```

Executing the following `tpp` commands:

```
$ tpp init hello
'hello' solution was initialized successfully!

// go to generated solution
$ cd hello/
// copy the code snippet into the generated template hello.cpp
// copy the contents of files in.tpp and expected.tpp

$ tpp build
hello.cpp was compiled successfully!

$ tpp run
debug:20 myVariable: "tpp tool"
debug:25 myMatrix:
[0 0 0 0 0 0 0 0]
[0 0 0 0 0 0 0 0]
[0 0 0 0 0 0 0 0]
[0 0 0 0 0 0 0 0]
[0 0 0 0 0 0 0 0]
[0 0 0 0 0 0 0 0]
[0 0 0 0 0 0 0 0]
[0 0 0 0 0 0 0 0]
debug:26 myMatrix[2][2]: 0
debug:33 myVector:
[0 1 2 3 4 5 6 7]
debug:34 myVector[4]: 4
debug:41 myPairs:
[(0,0) (1,2) (2,4) (3,6)]
debug:42 myPairs[2]: (2,4)
Hello world!

$ tpp test
hello.cpp test PASSED!

$ tpp prepare
hello_ready.cpp was generated successfully!
hello_ready.cpp test PASSED!
```

Opening the generated file for submission `hello_ready.cpp`:

```c++
/**
*  Generated by tpp tool
*  File: hello.cpp
*  Created: 27/09/2020 12:25:56
**/

#include <bits/stdc++.h>
using namespace std;

int main() {
    // do not remove this code if you use cin or cout
    ios::sync_with_stdio(false);
    cin.tie(0);

    string myVariable = "tpp tool";

    int myMatrix[8][8];
    memset(myMatrix, 0, sizeof(myMatrix));

    vector<int> myVector;
    for(int i = 0; i < 8; i++) {
        myVector.push_back(i);
    }

    vector<pair<int,int>> myPairs;
    for(int i = 0; i < 4; i++) {
        myPairs.push_back({i, 2*i});
    }

    string greeting;
    getline(cin, greeting);
    cout << greeting <<endl;

    return 0;
}

```
